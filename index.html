<!DOCTYPE html>

<head>
    <!-- Piwik -->
    <script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
      _paq.push(["setCookieDomain", "*.www.turning21.io"]);
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
      var u="//piwik.turning21.io/";
      _paq.push(['setTrackerUrl', u+'piwik.php']);
      _paq.push(['setSiteId', 7]);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
    })();
    </script>
    <noscript><p><img src="//piwik.turning21.io/piwik.php?idsite=7" style="border:0;" alt="" /></p></noscript>
    <!-- End Piwik Code -->

    <style>
        .thumbnail{
	    display: inline-block;
            max-width: 900px;
            margin: 0 auto;
            font-size: 1.6rem;
            line-height: 2rem;
	    text-align: center;
        }

        .container {
            display: block;
            width: 75%;
            max-width: 960px;
            margin: 0 auto;
            font-size: 1.6rem;
            line-height: 2rem;
        }
	.container--gifs {
	    text-align: justify;
	}

        .navigation{
            position: fixed;
            top: 0;
            z-index: 20;
            height: 39px;
        }

        .fade {
            opacity: 1;
            transition: opacity .25s ease-in-out;
            -moz-transition: opacity .25s ease-in-out;
            -webkit-transition: opacity .25s ease-in-out;
            z-index:5;
            position:absolute;
            content: url(./FourBall.png);
        }

        .fade:hover{
            opacity: 0;
        }

	a {
	}

	.nodec{
	    text-decoration: none;
	    color: inherit;
	}

	.nowrap {
	    white-space: nowrap;
	}

  .playbutton {
    margin-left: auto;
    margin-right: auto;
    position: relative;
    display: inline-block;

  }



    </style>
</head>

<body>

    <div class="navigation" onclick="toggleMute(this)">
        <img class="icon" './assets/placeholder.png'>
    </div>

    <div class="container">
        <h1>Nick Sippl-Swezey</h1>
        <h3>Selected projects between January 2016 - April 2017</h3>
    </div>

    <div class="container">
        <p>
            <a href="https://github.com/unitedvote/liquid-earth">
                Liquid-Earth: Collecting Google Earth URLs for San Francisco Legislation Addresses
                <img class="thumbnail" src='./assets/liquid-earth.gif'/>
            </a>
        </p>
    </div>

    <div class="container">
        <p>
            <a href="https://nsipplswezey.github.io/2016/04/21/Going-Deeper-With-React-Native-and-iOS-Native-UI.html">
                React Native iOS9 Native Contact Picker: Passing Callbacks To Objective-C
                <img class="thumbnail" src='https://nsipplswezey.github.io/assets/anim.gif'/>
            </a>
        </p>
    </div>

    <div class="container">
        <p>
            <a href="http://nsipplswezey.github.io/nodal/docs/tutorial.html">
                Nodal: node.js Web Servers Optimized for Building API Services Quickly and Efficiently
                <img class="thumbnail" src='./assets/nodal.png'/>
            </a>
        </p>
    </div>

    <div class="container">
        <p>
            <a href="http://nsipplswezey.github.io/react-components/">
                React Components: A Staging and Demonstration Repo
                <img class="thumbnail" src='./assets/valleyFire.gif'/>
            </a>
        </p>
    </div>

    <div class="container">
        <p onmouseover="hoverPlayOnce(this)" onmouseout="unhoverPause(this)">

            <a href="https://github.com/nsipplswezey/clojure-overtone-livecoding-wurlitzer">
                Overtone Wurlitzer: Livecoding A Chris Staples Song in Clojure
                <img class="thumbnail" src='./assets/wurlitzer.png'/>
                <audio>
                    <source src="./assets/audio/wurlitzer.mp3">
                    Your browser doesn't support HTML5 audio.
                </audio>
            </a>
        </p>
    </div>

    <div class="container">
        <p>
            <a href="http://fourball.herokuapp.com/">
                Fourball: Hybrid mobile app to coordinate same-day golf with your buddies
	    </a>
            <a href="http://fourball.herokuapp.com/" class="nowrap nodec">
                <img class="thumbnail" src='./assets/one.gif'/>
                <img class="thumbnail" src='./assets/two.gif'/>
                <img class="thumbnail" src='./assets/three.gif'/>
                <img class="thumbnail" src='./assets/four.gif'/>
		<img class="thumbnail" src='./assets/five.gif'/>
            </a>
        </p>
    </div>

    <div class="container">
        <p>
            <a href="http://nsipplswezey.github.io/Salmon">
                The Salmon Game: Why do salmon lay so many eggs?
                <img class="thumbnail" src='./assets/salmongame.png'/>
            </a>
        </p>
    </div>

    <div class="container">
        <p>
            <a href="http://nsipplswezey.github.io/Circle">
                The Circle Game: Computational modeling and simulation from table-top to laptop
                <img class="thumbnail" src='./assets/CircleGame.png'>
            </a>
        </p>
    </div>

    <div class="container">
        <p onmouseover="hoverPlay(this)" onmouseout="unhoverPause(this)">
            <a href="https://github.com/nsipplswezey/clojurescript-overtone-interface">
                Overtone Controller: Clojurescript App to Control Overtone
                <img class="thumbnail" src='./assets/controller.png'>
                <audio>
                    <source src="./assets/audio/dub.mp3">
                    Your browser doesn't support HTML5 audio.
                </audio>
            </a>
        </p>
    </div>


</body>

<script>

    function isType(data,type){
        var dataType = Object.prototype.toString.call(data);
        return dataType === type;

    }

    function unmute(icon,audio){

        if(icon !== null){
            icon.src = './assets/sound.png';
        }

        if(isType(audio,'[object HTMLCollection]')){
            audio[0].muted = false;
            audio[1].muted = false;
        }else{
            audio.muted = false;
        }
    }

    function mute(icon,audio){

        if(icon !== null){
            icon.src = './assets/noSound.png';
        }

        if(isType(audio,'[object HTMLCollection]')){
            setTimeout(function(){
                audio[0].muted = true;
                audio[1].muted = true;},0);
        }else{
            audio.muted = true;
        }
    }

    function toggleMute(htmlElement){
        var audio = document.getElementsByTagName('audio');
        var icon = htmlElement.getElementsByClassName('icon')[0];
        console.log('toggle mute');
        if(icon.src.indexOf('/assets/sound.png') === -1){
            //if muted, unmute
            console.log('attempt to unmute');
            unmute(icon,audio);
        } else {
            //if unmuted, mute
            console.log('attempt to mute');
            mute(icon, audio);
        }

    };

    function once(fn){
        var result;
        return function(){
            if(fn){
                result = fn.apply(this,arguments);
                fn = null;
            }
        }
        return result;
    }

    function onceToCompletion(fn){
        var result;
        return function(){
            var audio = arguments[0];
            console.log(audio.currentTime);
            if(audio.currentTime < audio.duration){
                result = fn.apply(this,arguments)
            }
            return result;
        };
    }

    var playOnce = onceToCompletion(function(audio){audio.play()});
    var hoverPlayOnce = once(hoverPlay);

    function hoverPlay(element){
        var icon = document.getElementsByClassName('icon')[0];
        var audio = document.getElementsByTagName('audio');
        var muted = icon.src.indexOf('sound.png') === -1;
        var wurlitzer = audio[0];
        var dub = audio[1];
        var hoveredAudio = element.getElementsByTagName('audio')[0];
        var isWurlitzer = hoveredAudio.currentSrc.indexOf('wurlitzer') !== -1;

        if(!isWurlitzer){
            playOnce(hoveredAudio);
            unmute(icon,hoveredAudio);
        }else{
            hoveredAudio.play();
            unmute(icon,audio);
        }


    };

    function unhoverPause(element){
        var icon = document.getElementsByClassName('icon')[0];
        var audio = document.getElementsByTagName('audio');
        var muted = icon.src.indexOf('sound.png') === -1;
        var wurlitzer = audio[0];
        var dub = audio[1];
        var hoveredAudio = element.getElementsByTagName('audio')[0];
        var isWurlitzer = hoveredAudio.currentSrc.indexOf('wurlitzer') !== -1;
        console.log('is wurlitzer muted',wurlitzer.muted);
        if(!isWurlitzer && !wurlitzer.paused && !wurlitzer.muted){
            hoveredAudio.pause();
            mute(null,hoveredAudio);
        }else if(!isWurlitzer && wurlitzer.muted){
            hoveredAudio.pause();
            console.log('why arent we muting!');
            mute(icon,hoveredAudio);
        }else if(!isWurlitzer){
            hoveredAudio.pause();
            mute(icon,hoveredAudio);
        }

    };

</script>
